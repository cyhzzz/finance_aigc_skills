# 市场环境分析指南

## 概述

本指南说明如何使用市场环境分析工具，识别特殊时点对市场的影响。

## 分析维度

### 1. 节假日效应

**主要节假日：**
- 春节（2月）
- 国庆节（10月1-7日）
- 劳动节（5月1-5日）
- 元旦（1月1-3日）
- 清明节（4月4-6日）
- 端午节（6月，农历）
- 中秋节（9月，农历）

**节前效应特征：**
- 避险情绪上升
- 成交量萎缩
- 资金兑现需求增加
- 市场波动可能加大

**节后效应特征：**
- 资金回流
- 情绪修复
- 可能出现补涨/补跌

### 2. 时期效应

**月末效应（最后3个交易日）**
- 结算压力
- 资金面波动
- 机构调仓

**季末效应（3月、6月、9月、12月最后5个交易日）**
- 季末考核压力
- 机构排名压力
- 调仓换股

**年末效应（12月最后10个交易日）**
- 年度结算
- 资金面紧张
- 机构排名冲刺

### 3. 特殊时间窗口

**两会期间（3月初-3月中旬）**
- 政策预期升温
- 市场关注政策导向
- 相关板块可能活跃

**财报季（1月、4月、7月、10月中下旬）**
- 业绩披露密集
- 市场关注业绩预期
- 业绩地雷风险

**FOMC会议周（每月第三周）**
- 美联储政策预期
- 全球市场波动
- 汇率影响

## 使用方法

### 调用脚本

```bash
# 分析今天的时点
python3 scripts/analyze_market_context.py

# 分析指定日期
python3 scripts/analyze_market_context.py 2026-02-13
```

### 输出格式

脚本会输出 JSON 格式的分析结果：

```json
{
  "date": "2026-02-13",
  "weekday": "Thursday",
  "is_weekend": false,
  "special_periods": [
    {
      "type": "pre_holiday",
      "name": "春节",
      "impact": "节前避险情绪，成交萎缩，资金兑现需求"
    }
  ],
  "holiday_info": {
    "is_pre_holiday": true,
    "holiday_name": "春节",
    "days_to_holiday": 2
  },
  "market_sentiment_factors": ["节前效应"],
  "recommendations": ["关注节前避险情绪对市场的影响"]
}
```

### 集成到评论撰写流程

在撰写市场评论时，应该：

1. **先运行市场环境分析**
2. **识别特殊因素**
3. **在事件分析段落中重点提及**
4. **调整操作建议**

## 示例应用

### 案例：2026-02-13（春节前最后一个交易日）

**环境分析结果：**
- 节前效应：春节
- 市场表现：三大指数全线下跌，成交量萎缩

**评论撰写要点：**

1. **市场概述段**
   - 提及"节前最后一个交易日"
   - 强调"节前避险情绪"

2. **事件分析段**
   - 重点分析节前效应
   - 解释成交萎缩原因
   - 说明资金兑现需求

3. **操作建议段**
   - 建议持币过节或轻仓过节
   - 提醒节后关注市场情绪修复

## 注意事项

### 时点判断的准确性

**简化判断的局限性：**
- 节假日日期使用阳历近似（春节、端午、中秋实际为农历）
- 无法精确判断具体放假安排
- 建议结合实际放假通知

**改进方向：**
- 使用农历库精确判断
- 接入节假日 API
- 人工辅助确认

### 与热点新闻结合

**市场环境分析 + 热点新闻 = 更准确的判断**

示例流程：
1. 识别节前效应
2. 搜索当日热点新闻
3. 结合分析市场波动原因
4. 撰写更准确的评论

## 未来改进

### 短期改进
- [ ] 增加农历支持
- [ ] 增加热点新闻搜索
- [ ] 增加历史同期数据对比

### 长期改进
- [ ] 建立"时点-事件-市场表现"数据库
- [ ] 机器学习预测特殊时点影响
- [ ] 自动生成时点分析报告

---

**最后更新:** 2026-02-13
