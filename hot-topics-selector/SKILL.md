---
name: hot_topics_selector
description: 独立的财经热点选题工具，通过内置数据抓取层实时获取热点资讯，智能筛选可关联投资理财的优质选题。与年年有鱼、小红书创作等工作流skill并列协作。
dependency:
  python:
    - requests>=2.22.0
    - pytz>=2021.1
---

# 财经热点选题工具（独立Skill）

## 📌 定位说明

本 Skill 是**独立的选题工具**，与以下 skill **并列关系**：
- **年年有鱼市场评论** (abundance_every_year_market_notes) - 收评写作工作流
- **小红书创作工作流** (xiaohongshu-creation-workflow) - 小红书内容创作
- **财经热点选题** (hot-topics-selector) - 本 Skill，选题筛选工具

**协作模式**：
```
hot-topics-selector (选题推荐)
      ↓
      ├─→ xiaohongshu-creation-workflow (创作小红书笔记)
      └─→ abundance-every-year-market-notes (创作市场评论)
```

**核心价值**：
- ✅ 独立的选题筛选能力
- ✅ 内置数据抓取层（无需外部依赖）
- ✅ 聚焦投资关联性（证券开户/基金投资）
- ✅ 固定输出5个高质量选题
- ✅ 可与其他创作工作流无缝衔接

核心能力包含：
- **热点抓取**：实时获取 8+ 平台财经热点
- **需求理解**：理解创作意图和目标受众
- **智能筛选**：多维度评估选题价值
- **创作建议**：提供结构化的创作大纲
- **质量评估**：评估选题的爆款潜力

触发条件：
- 用户要求选题、寻找创作灵感
- 获取热点资讯、追踪市场动态
- 准备创作财经内容

## 核心工作流（4个阶段）

```
Phase 0: 数据抓取（Python）
   ↓
   python3 fetch_hot_topics.py
   输出：/tmp/hot_topics.json（133个标题）
   ↓
Phase 1: Agent 智能筛选（Markdown 提示词）
   ↓
   Agent 读取本文件的提示词
   Agent 执行筛选（无需脚本）
   输出：5个选题索引
   ↓
Phase 2: 内容抓取（Python）
   ↓
   python3 fetch_news_content.py
   输出：5篇新闻的详细内容
   ↓
Phase 3: Agent 智能解析（Markdown 提示词）
   ↓
   Agent 读取本文件的提示词
   Agent 解析每篇新闻
   输出：5个选题的完整方案
```

**关键特点**：
- **Python 负责数据**：抓取标题、抓取内容
- **Agent 负责智能**：筛选选题、解析内容
- **Markdown 负责提示词**：指导 Agent 执行
- **职责清晰**：数据处理 vs 智能判断

**Phase 0-3 详细说明见后文**

---

## Phase 0: 数据抓取层（内置功能）

**说明**：数据抓取是本 Skill 的内置功能，通过 Python 脚本实现，无需外部依赖。

**实现方式**：
- **脚本位置**：`scripts/fetch_hot_topics.py`
- **API接口**：调用 TrendRadar 服务接口
- **数据来源**：微博、百度、今日头条、抖音、财联社等8+平台

**使用方法**：

```bash
# 方法1：直接执行脚本（推荐）
cd /home/wuying/clawd/skills/hot-topics-selector/scripts
python3 fetch_hot_topics.py

# 方法2：在 Skill 中自动调用
# Agent 会自动执行数据抓取，无需手动操作
```

**平台支持（8个）**：
- **综合资讯**：微博、百度热搜、今日头条
- **短视频平台**：抖音
- **财经专业**：财联社、36氪、格隆汇
- **知识问答**：知乎

**输出格式**：
```json
{
  "fetch_time": "2026-02-13T19:36:24+08:00",
  "platforms_count": 5,
  "total_items": 133,
  "data": {
    "weibo": {
      "name": "微博",
      "items": [...],
      "count": 30
    }
  }
}
```

**注意事项**：
- ✅ 内置在 Skill 中，无需额外配置
- ✅ 自动处理 API 请求和错误重试
- ✅ 数据实时更新，每次获取最新热点
- ⚠️ API 请求间隔1秒，避免频率限制

---

## Phase 1: Agent 智能筛选（Markdown 提示词）

**任务**：从133个新闻标题中筛选出5个最适合引导开户/投资的选题

**执行方式**：Agent 直接执行以下提示词（无需脚本）

**Agent 执行提示词**：

```markdown
# 任务：筛选适合引导开户/投资的选题

## 背景

目标受众：**不炒股的普通大众**（通过抖音/小红书看到内容）
核心目标：**软性引导他们进行证券开户、基金投资等理财操作**

## 标题列表

{从 /tmp/hot_topics.json 读取的133个标题}

## 筛选标准（投资关联性为核心）

### 🔥🔥🔥🔥🔥 最高优先级（90-100分）
**可直接关联投资产品：**
- 赚钱故事 → AI基金/科技股票/券商产品
- 投资案例 → 黄金ETF/资产配置
- 理财话题 → 基金定投/证券开户

**示例：**
- "AI月入200万" → 可推荐AI基金（95分）
- "黄金赚196万" → 可推荐黄金ETF（92分）

### 🔥🔥🔥🔥 高优先级（80-89分）
**可关联理财规划：**
- 薪资话题 → 工资收入vs投资收入
- 储蓄话题 → 存钱vs投资
- 消费话题 → 理财规划

**示例：**
- "年终奖1.8亿" → 可推荐基金定投（85分）

### 🔥🔥🔥 中优先级（60-79分）
**勉强可关联：**
- 教育话题 → 教育基金
- 养老话题 → 养老金投资

**示例：**
- "衡水中学变了" → 可关联教育基金（70分）

### ❌ 不选择（<60分）
**无法关联投资：**
- 纯娱乐八卦
- 纯社会新闻
- 与财经无关的话题

## 输出格式（JSON）

```json
{
  "selected_indices": [1, 3, 5, 7, 9],
  "reasons": {
    "1": "✅ 可直接关联：AI赚钱 → AI基金投资。投资关联度95分，大众关注度高",
    "3": "✅ 可直接关联：黄金案例 → 黄金ETF。投资关联度92分，数据冲击强",
    "5": "✅ 可关联：薪资话题 → 基金定投。投资关联度85分，共鸣强"
  },
  "investment_angles": {
    "1": "可以推荐：AI主题基金、科技股票、券商AI产品",
    "3": "可以推荐：黄金ETF、券商黄金产品、资产配置服务",
    "5": "可以推荐：基金定投、理财规划、证券开户"
  },
  "investment_relevance_score": {
    "1": 95,
    "3": 92,
    "5": 85
  }
}
```

**严格要求：**
1. **固定选择5个标题**（不多不少）
2. 每个标题投资关联度 ≥80分
3. 说明具体的投资产品推荐方向
4. 优先选择可直接关联产品的选题（≥90分）
```

**Agent 执行步骤**：
1. 读取 `/tmp/hot_topics.json` 获取133个标题
2. 执行上述提示词进行筛选
3. 返回 JSON 格式的5个选题结果

### 🔥🔥🔥 中优先级（60-79分）
**勉强可关联：**
- 教育话题 → 教育基金
- 养老话题 → 养老金投资

### ❌ 不选择（<60分）
**无法关联投资：**
- 纯娱乐八卦
- 纯社会新闻
- 与财经无关的话题

**输出格式**：
```json
{
  "selected_indices": [1, 3, 5, 7, 9],
  "reasons": {
    "1": "✅ 可直接关联：AI赚钱 → AI基金投资。投资关联度95分"
  },
  "investment_angles": {
    "1": "可以推荐：AI主题基金、科技股票、券商AI产品"
  },
  "investment_relevance_score": {
    "1": 95
  }
}
```

---

## Phase 2: 内容抓取（Python）

**任务**：为选中的5个选题抓取详细新闻内容

**执行方式**：
```bash
cd /home/wuying/clawd/skills/hot-topics-selector/scripts
python3 fetch_news_content.py --indices 1,3,5,7,9 --input /tmp/hot_topics.json
```

**功能说明**：
- 根据选题索引提取 URL
- 抓取每篇新闻的完整内容
- 提取关键信息（标题、正文、时间、来源）
- 保存到 `/tmp/news_content.json`

**输出格式**：
```json
{
  "fetch_time": "2026-02-13T21:00:00+08:00",
  "articles": [
    {
      "index": 1,
      "title": "杭州大哥开1人公司靠AI月入200万",
      "url": "https://...",
      "platform": "微博",
      "content": "完整新闻内容...",
      "publish_time": "2026-02-13T18:00:00",
      "keywords": ["AI", "创业", "月入200万"]
    },
    // ...共5篇文章
  ]
}
```

---

## Phase 3: Agent 智能解析（Markdown 提示词）

**任务**：解析每篇新闻内容，生成完整的选题方案

**执行方式**：Agent 直接执行以下提示词（无需脚本）

**Agent 执行提示词**：

```markdown
# 任务：解析新闻内容，生成选题方案

## 背景

已获取5篇新闻的详细内容，需要为每篇新闻生成：
1. 新闻内容概要
2. 选题理由（投资关联性）
3. 引导策略（如何转向投资）
4. 原始新闻链接

## 新闻列表

{从 /tmp/news_content.json 读取的5篇新闻}

## 解析要求

### 1. 新闻内容概要
- 提取核心信息（100-150字）
- 保留关键数据和案例
- 突出与投资相关的信息

### 2. 选题理由
- 说明投资关联度（80-100分）
- 分析大众关注度
- 预测传播潜力

### 3. 引导策略
- **切入点**：如何从新闻话题切入
- **转折点**：如何自然转向投资
- **产品推荐**：具体推荐哪些投资产品
- **话术示例**：2-3句引导话术

**示例引导策略：**
```
切入点：AI创业月入200万，引发"我也能吗"的思考
转折点：普通人不会技术，但可以通过投资分享红利
产品推荐：AI主题基金、科技ETF、券商AI产品
话术示例：
  "想参与AI红利？不需要会技术，投资AI基金就能分一杯羹"
  "开户买AI基金，普通人也能享受AI发展的红利"
```

### 4. 原始链接
- 保留完整的新闻URL
- 方便后续查阅和引用

## 输出格式（JSON）

```json
{
  "topic_plans": [
    {
      "index": 1,
      "title": "杭州大哥开1人公司靠AI月入200万",
      "summary": "杭州一创业者通过AI工具运营1人公司，月收入达200万。主要业务是...",
      "selection_reason": {
        "investment_relevance": 95,
        "mass_attention": "高（AI+赚钱话题）",
        "viral_potential": "极强（月入200万数据冲击）"
      },
      "guidance_strategy": {
        "entry_point": "AI创业月入200万，引发'我也能吗'的思考",
        "turning_point": "普通人不会技术，但可以通过投资分享AI红利",
        "product_recommendation": "AI主题基金、科技ETF、券商AI产品",
        "script_examples": [
          "想参与AI红利？投资AI基金就能分一杯羹",
          "开户买AI基金，普通人也能享受AI发展红利"
        ]
      },
      "source_url": "https://..."
    },
    // ...共5个选题方案
  ]
}
```

**严格要求：**
1. 每个选题都要有完整的4个部分
2. 引导策略要具体、可操作
3. 产品推荐要与券商/基金相关
4. 话术要自然、不生硬
```

**Agent 执行步骤**：
1. 读取 `/tmp/news_content.json` 获取5篇新闻
2. 执行上述提示词解析每篇新闻
3. 返回 JSON 格式的5个完整选题方案

---

## Phase 4: 衔接其他创作工作流（可选）

**说明**：本 Skill 完成选题方案后，可无缝衔接到其他创作工作流。

**衔接方式**：

### 🔗 衔接到小红书创作工作流
```
hot-topics-selector → xiaohongshu-creation-workflow
```
- 输入：选题方案（包含引导策略）
- 输出：完整的小红书7页笔记
- 适用：需要创作小红书内容

### 🔗 衔接到年年有鱼市场评论
```
hot-topics-selector → abundance-every-year-market-notes
```
- 输入：选题方案（包含市场分析）
- 输出：专业的市场评论文章
- 适用：需要创作收评/市场分析

---

## 使用示例

### 完整工作流（4步）

**Step 1: 数据抓取（Python）**
```bash
cd /home/wuying/clawd/skills/hot-topics-selector/scripts
python3 fetch_hot_topics.py

# 输出：/tmp/hot_topics_2026-02-13.json
# 包含：133个新闻标题（5个平台）
```

**Step 2: Agent 智能筛选（Markdown 提示词）**
```bash
# Agent 执行（无需脚本）
# 1. 读取 /tmp/hot_topics_2026-02-13.json
# 2. 执行 Phase 1 的提示词
# 3. 返回5个选题索引

# 输出示例：
{
  "selected_indices": [1, 5, 10, 23, 49],
  "investment_relevance_score": {
    "1": 95, "5": 85, "10": 82, "23": 70, "49": 92
  }
}
```

**Step 3: 内容抓取（Python）**
```bash
python3 fetch_news_content.py \
  --input /tmp/hot_topics_2026-02-13.json \
  --indices 1,5,10,23,49 \
  --output /tmp/news_content.json

# 输出：/tmp/news_content.json
# 包含：5篇新闻的详细内容
```

**Step 4: Agent 智能解析（Markdown 提示词）**
```bash
# Agent 执行（无需脚本）
# 1. 读取 /tmp/news_content.json
# 2. 执行 Phase 3 的提示词
# 3. 返回5个完整选题方案

# 输出示例：
{
  "topic_plans": [
    {
      "index": 1,
      "title": "AI月入200万",
      "summary": "...",
      "selection_reason": {...},
      "guidance_strategy": {...},
      "source_url": "..."
    },
    // ...共5个
  ]
}
```

**总耗时**：约15分钟

---

### 衔接到小红书创作

```bash
# 完成本 Skill 的4个步骤后
# 得到5个完整的选题方案

# 调用小红书创作工作流
# 输入：选题方案（包含引导策略）
# 输出：完整的小红书7页笔记
```

# 输入：选题 + 投资关联角度
# 例如："AI月入200万" → AI基金投资

# 输出：完整的小红书7页笔记
# 包含：封面、内容、风险提示、行动引导
```

---

### 衔接到年年有鱼

```bash
# 完成本 Skill 的选题推荐后
# 调用年年有鱼市场评论

# 输入：选题 + 市场影响
# 例如："天风证券处罚" → 券商板块影响

# 输出：专业的6段式市场评论
# 包含：市场概述、事件分析、操作建议
```

---

## 配置说明

### 数据抓取配置

**内置在 Skill 中，无需额外配置**

```python
# 脚本位置
scripts/fetch_hot_topics.py

# API 接口
TrendRadar Service

# 默认平台
["weibo", "baidu", "toutiao", "douyin", "cls-hot"]
```

### 评分体系配置

```python
# 投资关联度评分权重
INVESTMENT_RELEVANCE = {
    "direct_product": 90-100,  # 直接关联投资产品
    "planning": 80-89,         # 可关联理财规划
    "indirect": 60-79,         # 勉强可关联
    "none": 0                  # 无法关联（不选择）
}

# 固定输出
OUTPUT_COUNT = 5  # 固定5个选题
```

---

## 注意事项

### ⚠️ 数据抓取
- ✅ 内置在 Skill 中，自动执行
- ✅ API 请求间隔1秒，避免频率限制
- ⚠️ 网络不稳定时可能需要重试

### ⚠️ 投资关联性
- ✅ 每个选题都必须可关联投资理财
- ✅ 优先选择可直接关联产品的选题
- ⚠️ 投资关联度 <60分的选题会被排除

### ⚠️ 工作流衔接
- ✅ 可与小红书创作、年年有鱼等 skill 协作
- ✅ 输出格式标准化，便于衔接
- ⚠️ 衔接时需要指定创作平台和目标受众

---

## 常见问题

**Q1: 为什么固定输出5个选题？**
A: 5个选题足够覆盖不同方向，同时保证每个都是高质量、可关联投资的。

**Q2: 如何判断投资关联度？**
A: 
- ≥90分：可直接推荐基金/股票/券商产品
- 80-89分：可关联理财规划（定投/配置）
- 60-79分：勉强可关联（教育/养老基金）
- <60分：不选择

**Q3: 如何衔接到小红书创作工作流？**
A: 完成本 Skill 后，将选题和投资关联角度传递给 xiaohongshu-creation-workflow skill。

**Q4: 数据抓取失败怎么办？**
A: 检查网络连接，脚本会自动重试。如持续失败，可手动指定已保存的数据文件。

---

## 更新日志

**v2.0.0 - 2026-02-13**
- ✅ 重构为独立的并列 Skill
- ✅ 数据抓取层内置化
- ✅ 固定输出5个选题
- ✅ 聚焦投资关联性评估
- ✅ 支持工作流衔接

**v1.0.0 - 2026-02-13**
- ✅ 基础热点抓取功能
- ✅ 智能筛选和评分
- ✅ 创作建议生成

---

**核心价值**：
- 独立的选题工具 Skill
- 内置数据抓取，无需外部依赖
- 聚焦投资关联，提高转化率
- 可与其他创作工作流无缝衔接
