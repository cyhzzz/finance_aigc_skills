---
name: hot_topics_selector
description: 独立的财经热点选题工具，通过内置数据抓取层实时获取热点资讯，智能筛选可关联投资理财的优质选题。与年年有鱼、小红书创作等工作流skill并列协作。
dependency:
  python:
    - requests>=2.22.0
    - pytz>=2021.1
---

# 财经热点选题工具（独立Skill）

## 📌 定位说明

本 Skill 是**独立的选题工具**，与以下 skill **并列关系**：
- **年年有鱼市场评论** (abundance_every_year_market_notes) - 收评写作工作流
- **小红书创作工作流** (xiaohongshu-creation-workflow) - 小红书内容创作
- **财经热点选题** (hot-topics-selector) - 本 Skill，选题筛选工具

**协作模式**：
```
hot-topics-selector (选题推荐)
      ↓
      ├─→ xiaohongshu-creation-workflow (创作小红书笔记)
      └─→ abundance-every-year-market-notes (创作市场评论)
```

**核心价值**：
- ✅ 独立的选题筛选能力
- ✅ 内置数据抓取层（无需外部依赖）
- ✅ 聚焦投资关联性（证券开户/基金投资）
- ✅ 固定输出5个高质量选题
- ✅ 可与其他创作工作流无缝衔接

核心能力包含：
- **热点抓取**：实时获取 8+ 平台财经热点
- **需求理解**：理解创作意图和目标受众
- **智能筛选**：多维度评估选题价值
- **创作建议**：提供结构化的创作大纲
- **质量评估**：评估选题的爆款潜力

触发条件：
- 用户要求选题、寻找创作灵感
- 获取热点资讯、追踪市场动态
- 准备创作财经内容

## 核心工作流

```
Phase 0: 数据抓取（内置）
   ↓
Phase 1: 大模型智能筛选
   ↓
Phase 2: 投资关联度评估
   ↓
Phase 3: 选题推荐（固定5个）
   ↓
[可选] 衔接到其他创作工作流
```

**关键特点**：
- **数据抓取内置**：通过 Python 脚本调取 TrendRadar API
- **投资导向**：每个选题都可关联证券开户/基金投资
- **固定输出**：每次返回5个高质量选题
- **工作流衔接**：可与小红书创作、年年有鱼等 skill 协作

---

## Phase 0: 数据抓取层（内置功能）

**说明**：数据抓取是本 Skill 的内置功能，通过 Python 脚本实现，无需外部依赖。

**实现方式**：
- **脚本位置**：`scripts/fetch_hot_topics.py`
- **API接口**：调用 TrendRadar 服务接口
- **数据来源**：微博、百度、今日头条、抖音、财联社等8+平台

**使用方法**：

```bash
# 方法1：直接执行脚本（推荐）
cd /home/wuying/clawd/skills/hot-topics-selector/scripts
python3 fetch_hot_topics.py

# 方法2：在 Skill 中自动调用
# Agent 会自动执行数据抓取，无需手动操作
```

**平台支持（8个）**：
- **综合资讯**：微博、百度热搜、今日头条
- **短视频平台**：抖音
- **财经专业**：财联社、36氪、格隆汇
- **知识问答**：知乎

**输出格式**：
```json
{
  "fetch_time": "2026-02-13T19:36:24+08:00",
  "platforms_count": 5,
  "total_items": 133,
  "data": {
    "weibo": {
      "name": "微博",
      "items": [...],
      "count": 30
    }
  }
}
```

**注意事项**：
- ✅ 内置在 Skill 中，无需额外配置
- ✅ 自动处理 API 请求和错误重试
- ✅ 数据实时更新，每次获取最新热点
- ⚠️ API 请求间隔1秒，避免频率限制

---

## Phase 1: 大模型智能筛选

**任务**：使用大模型从133个新闻标题中筛选出5个优质选题

**执行方式**：
```bash
cd scripts
python3 intelligent_selector.py --input /tmp/hot_topics_xxx.json
```

**筛选标准（投资关联性为核心）**：

### 🔥🔥🔥🔥🔥 最高优先级（90-100分）
**可直接关联投资产品：**
- 赚钱故事 → AI基金/科技股票/券商产品
- 投资案例 → 黄金ETF/资产配置
- 理财话题 → 基金定投/证券开户

### 🔥🔥🔥🔥 高优先级（80-89分）
**可关联理财规划：**
- 薪资话题 → 工资收入vs投资收入
- 储蓄话题 → 存钱vs投资
- 消费话题 → 理财规划

### 🔥🔥🔥 中优先级（60-79分）
**勉强可关联：**
- 教育话题 → 教育基金
- 养老话题 → 养老金投资

### ❌ 不选择（<60分）
**无法关联投资：**
- 纯娱乐八卦
- 纯社会新闻
- 与财经无关的话题

**输出格式**：
```json
{
  "selected_indices": [1, 3, 5, 7, 9],
  "reasons": {
    "1": "✅ 可直接关联：AI赚钱 → AI基金投资。投资关联度95分"
  },
  "investment_angles": {
    "1": "可以推荐：AI主题基金、科技股票、券商AI产品"
  },
  "investment_relevance_score": {
    "1": 95
  }
}
```

---

## Phase 2: 选题推荐（固定5个）

**任务**：展示5个优质选题及其投资关联路径

**执行方式**：
```bash
python3 show_results.py
```

**输出示例**：

### 🔥 选题1：AI月入200万（95分）
- **投资关联**：AI基金/科技股票
- **转化路径**：AI故事 → 投资分享 → 开户买基金
- **推荐理由**：热点+赚钱+可直接关联投资

### 🔥 选题2：黄金赚196万（92分）
- **投资关联**：黄金ETF/券商产品
- **转化路径**：黄金案例 → 投资黄金 → 开户买ETF
- **推荐理由**：真实案例+数据冲击+直接关联投资

（...共5个选题）

---

## Phase 3: 衔接其他创作工作流（可选）

**说明**：本 Skill 完成选题推荐后，可无缝衔接到其他创作工作流。

**衔接方式**：

### 🔗 衔接到小红书创作工作流
```
hot-topics-selector → xiaohongshu-creation-workflow
```
- 输入：选题 + 投资关联角度
- 输出：完整的小红书7页笔记
- 适用：需要创作小红书内容

### 🔗 衔接到年年有鱼市场评论
```
hot-topics-selector → abundance-every-year-market-notes
```
- 输入：选题 + 市场影响分析
- 输出：专业的市场评论文章
- 适用：需要创作收评/市场分析

---

## 使用示例

### 完整工作流（3步）

**Step 1: 数据抓取（内置）**
```bash
cd /home/wuying/clawd/skills/hot-topics-selector/scripts
python3 fetch_hot_topics.py

# 输出：/tmp/hot_topics_2026-02-13.json
# 包含：133个新闻标题（5个平台）
```

**Step 2: 智能筛选**
```bash
python3 intelligent_selector.py --input /tmp/hot_topics_2026-02-13.json

# 输出：5个优质选题
# 每个选题包含：投资关联度评分、推荐产品、转化路径
```

**Step 3: 查看结果**
```bash
python3 show_results.py

# 输出：选题推荐列表
# 包含：标题、评分、投资关联、转化路径
```

**总耗时**：约10分钟

---

### 衔接到小红书创作

```bash
# 完成本 Skill 的选题推荐后
# 调用小红书创作工作流

# 输入：选题 + 投资关联角度
# 例如："AI月入200万" → AI基金投资

# 输出：完整的小红书7页笔记
# 包含：封面、内容、风险提示、行动引导
```

---

### 衔接到年年有鱼

```bash
# 完成本 Skill 的选题推荐后
# 调用年年有鱼市场评论

# 输入：选题 + 市场影响
# 例如："天风证券处罚" → 券商板块影响

# 输出：专业的6段式市场评论
# 包含：市场概述、事件分析、操作建议
```

---

## 配置说明

### 数据抓取配置

**内置在 Skill 中，无需额外配置**

```python
# 脚本位置
scripts/fetch_hot_topics.py

# API 接口
TrendRadar Service

# 默认平台
["weibo", "baidu", "toutiao", "douyin", "cls-hot"]
```

### 评分体系配置

```python
# 投资关联度评分权重
INVESTMENT_RELEVANCE = {
    "direct_product": 90-100,  # 直接关联投资产品
    "planning": 80-89,         # 可关联理财规划
    "indirect": 60-79,         # 勉强可关联
    "none": 0                  # 无法关联（不选择）
}

# 固定输出
OUTPUT_COUNT = 5  # 固定5个选题
```

---

## 注意事项

### ⚠️ 数据抓取
- ✅ 内置在 Skill 中，自动执行
- ✅ API 请求间隔1秒，避免频率限制
- ⚠️ 网络不稳定时可能需要重试

### ⚠️ 投资关联性
- ✅ 每个选题都必须可关联投资理财
- ✅ 优先选择可直接关联产品的选题
- ⚠️ 投资关联度 <60分的选题会被排除

### ⚠️ 工作流衔接
- ✅ 可与小红书创作、年年有鱼等 skill 协作
- ✅ 输出格式标准化，便于衔接
- ⚠️ 衔接时需要指定创作平台和目标受众

---

## 常见问题

**Q1: 为什么固定输出5个选题？**
A: 5个选题足够覆盖不同方向，同时保证每个都是高质量、可关联投资的。

**Q2: 如何判断投资关联度？**
A: 
- ≥90分：可直接推荐基金/股票/券商产品
- 80-89分：可关联理财规划（定投/配置）
- 60-79分：勉强可关联（教育/养老基金）
- <60分：不选择

**Q3: 如何衔接到小红书创作工作流？**
A: 完成本 Skill 后，将选题和投资关联角度传递给 xiaohongshu-creation-workflow skill。

**Q4: 数据抓取失败怎么办？**
A: 检查网络连接，脚本会自动重试。如持续失败，可手动指定已保存的数据文件。

---

## 更新日志

**v2.0.0 - 2026-02-13**
- ✅ 重构为独立的并列 Skill
- ✅ 数据抓取层内置化
- ✅ 固定输出5个选题
- ✅ 聚焦投资关联性评估
- ✅ 支持工作流衔接

**v1.0.0 - 2026-02-13**
- ✅ 基础热点抓取功能
- ✅ 智能筛选和评分
- ✅ 创作建议生成

---

**核心价值**：
- 独立的选题工具 Skill
- 内置数据抓取，无需外部依赖
- 聚焦投资关联，提高转化率
- 可与其他创作工作流无缝衔接
